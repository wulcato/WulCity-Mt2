var v=Object.defineProperty,C=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var f=(r,t,o)=>t in r?v(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,d=(r,t)=>{for(var o in t||(t={}))N.call(t,o)&&f(r,o,t[o]);if(g)for(var o of g(t))L.call(t,o)&&f(r,o,t[o]);return r},u=(r,t)=>C(r,S(t));import{R as e,S as F,A as R,P,r as i,a as T,b as k,u as h,g as y,c as I,i as x,d as O,e as _,I as M}from"./vendor.5a39be47.js";const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};D();const j="http://localhost/files.json",A="http://localhost/slider.json",q="http://localhost/slider/",z="https://discord.gg/invite",U="WulCity",{ipcRenderer:E}=window.require("electron"),$=()=>{const r=()=>E.send("minimize"),t=()=>E.send("close");return e.createElement("header",{className:"titlebar"},e.createElement("div",{className:"controls"},e.createElement("p",{className:"title"},U),e.createElement("button",{type:"button",onClick:r,id:"minimize"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},e.createElement("path",{d:"M2 9.75C2 9.33579 2.33579 9 2.75 9H17.25C17.6642 9 18 9.33579 18 9.75C18 10.1642 17.6642 10.5 17.25 10.5H2.75C2.33579 10.5 2 10.1642 2 9.75Z"}))),e.createElement("button",{type:"button",onClick:t,id:"close"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},e.createElement("path",{d:"M3.52499 3.71761L3.61612 3.61612C4.07173 3.1605 4.79155 3.13013 5.28239 3.52499L5.38388 3.61612L14 12.233L22.6161 3.61612C23.1043 3.12796 23.8957 3.12796 24.3839 3.61612C24.872 4.10427 24.872 4.89573 24.3839 5.38388L15.767 14L24.3839 22.6161C24.8395 23.0717 24.8699 23.7915 24.475 24.2824L24.3839 24.3839C23.9283 24.8395 23.2085 24.8699 22.7176 24.475L22.6161 24.3839L14 15.767L5.38388 24.3839C4.89573 24.872 4.10427 24.872 3.61612 24.3839C3.12796 23.8957 3.12796 23.1043 3.61612 22.6161L12.233 14L3.61612 5.38388C3.1605 4.92827 3.13013 4.20845 3.52499 3.71761L3.61612 3.61612L3.52499 3.71761Z"})))))};const{ipcRenderer:w}=window.require("electron");F.use([R,P]);const B=()=>{const r=l=>w.send("launchUrl",{url:l}),[t,o]=i.exports.useState(null);return i.exports.useEffect(()=>{fetch(A,{cache:"no-store"}).then(l=>l.json()).then(l=>{o(l)}).catch(()=>{w.send("errorSliderFile")})},[]),e.createElement("div",{className:"pt-1 mb-3"},e.createElement(T,{loop:!0,centeredSlides:!0,spaceBetween:30,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1}},t==null?void 0:t.map((l,n)=>e.createElement(k,{key:n},e.createElement("a",{href:"#",onClick:()=>r(l.url)},e.createElement("img",{src:q+l.image,alt:`img_${n}`}))))))},G=(r,t)=>t.type==="SET_COMPLETED"?u(d({},r),{completed:t.payload}):t.type==="SET_FILEPROGRESS"?u(d({},r),{fileProgress:t.payload}):t.type==="SET_CURRENTFILE"?u(d({},r),{currentFile:t.payload}):t.type==="SET_VERIFYINGFILE"?u(d({},r),{verifyingFile:t.payload}):t.type==="SET_ACTION"?u(d({},r),{action:t.payload}):r,b={completed:0,fileProgress:0,currentFile:"",verifyingFile:"",action:""},H=({children:r})=>{const[t,o]=i.exports.useReducer(G,b),l=i.exports.useMemo(()=>({state:t,dispatch:o}),[t]);return e.createElement(e.Fragment,null,e.createElement(p.Provider,{value:l},r))},p=i.exports.createContext(b),J=()=>{const{state:r}=i.exports.useContext(p),{t}=h();return e.createElement("div",{className:"pt-1"},e.createElement("div",{className:"flex mb-2 items-center justify-between"},e.createElement("div",null,e.createElement("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-gray-600 bg-gray-200"},(()=>r.completed===100?t("dlCompleted"):t("dlProgress"))())),e.createElement("div",{className:"text-right"},e.createElement("span",{className:"text-xs font-semibold inline-block text-gray-600"},r.completed,"%"))),e.createElement("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-300"},e.createElement("div",{style:{width:`${r.completed}%`},className:"ease-in-out duration-500 shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gray-600"})),e.createElement("div",{className:"flex mb-2 items-center justify-between"},e.createElement("div",null,e.createElement("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-gray-600 bg-gray-200"},(()=>r.fileProgress===100?t("dlCompleted"):t("dlFile",{currentFile:r.currentFile}))())),e.createElement("div",{className:"text-right"},e.createElement("span",{className:"text-xs font-semibold inline-block text-gray-600"},r.fileProgress,"%"))),e.createElement("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-300"},e.createElement("div",{style:{width:`${r.fileProgress}%`},className:"ease-in-out duration-500 shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-gray-600"})))},{ipcRenderer:m}=window.require("electron"),Z=()=>{const{state:r}=i.exports.useContext(p),{t}=h(),o=()=>m.send("launchConfig"),l=()=>m.send("launchClient"),n=()=>m.send("launchUrl",{url:z}),a=s=>{y().changeLanguage(s),m.send("languageChange",{language:s})};return e.createElement("div",{className:"relative"},e.createElement("div",{className:"absolute right-0"},e.createElement("span",{"aria-hidden":"true",className:"flags flag-icon flag-icon-gb mr-3 text-white px-4 py-2 rounded mr-1 mb-1 ease-linear transition-all duration-150",style:{width:"32px",height:"32px"},onClick:()=>a("en")}),e.createElement("span",{"aria-hidden":"true",className:"flags flag-icon flag-icon-pt mr-3 text-white px-4 py-2 rounded mr-1 mb-1 ease-linear transition-all duration-150",style:{width:"32px",height:"32px"},onClick:()=>a("pt")}),e.createElement("button",{className:"mr-3 bg-gray-500 text-white active:bg-gray-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:n},"Discord"),e.createElement("button",{className:"disabled:opacity-50 mr-3 bg-gray-500 text-white active:bg-gray-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:o,disabled:r.completed!==100},t("settings")),e.createElement("button",{className:"disabled:opacity-50 bg-gray-500 text-white active:bg-gray-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:l,disabled:r.completed!==100},t("play"))))},{ipcRenderer:c}=window.require("electron");c.setMaxListeners(0);const K=()=>{const{dispatch:r}=i.exports.useContext(p);let t=0;const o=i.exports.useRef(0),l=i.exports.useRef([]);return c.once("provide-worker-channel",n=>{const[a]=n.ports;a.onmessage=({data:s})=>{s.type==="fileProgress"?(r({type:"SET_FILEPROGRESS",payload:Math.floor(s.progressSize*100/s.total_bytes)}),r({type:"SET_CURRENTFILE",payload:s.currentFile})):s.type==="progressSize"||s.type==="end"?(t+=s.progressSize,r({type:"SET_COMPLETED",payload:Math.floor(t*100/o.current)})):s.type==="verifyingFile"&&r({type:"SET_ACTION",payload:s.action})},a.postMessage(l.current)}),i.exports.useEffect(()=>{(async()=>{await I()?(await y().changeLanguage(c.sendSync("getLanguage")),fetch(j,{cache:"no-store"}).then(n=>n.json()).then(n=>{n.forEach(a=>{o.current+=a.size}),l.current=n,c.send("request-worker-channel"),c.removeAllListeners("request-worker-channel")}).catch(()=>{c.send("errorServer")})):c.send("noNetwork")})()},[r]),e.createElement("div",{className:"h-screen w-screen bg-gray-50"},e.createElement($,null),e.createElement("div",{className:"m-2.5"},e.createElement(B,null),e.createElement(J,null),e.createElement(Z,null)))},V={settings:"Settings",play:"Play",dlCompleted:"Download Completed",dlProgress:"Download in progress",dlFile:"Downloading {{currentFile}}",noConnection:"There's no network connection.",errorConnection:"There was an error connecting to the server.",errorDownloadFile:"An error occurred while downloading {{fileName}}",errorSliderFile:"The slider file was not found in the remote server."};var W={translation:V};const Y={settings:"Defini\xE7\xF5es",play:"Jogar",dlCompleted:"Transfer\xEAncia Conclu\xEDda",dlProgress:"Transfer\xEAncia em progresso",dlFile:"A transferir {{currentFile}}",noConnection:"N\xE3o existe liga\xE7\xE3o \xE0 internet.",errorConnection:"Ocorreu um erro a ligar ao servidor.",errorDownloadFile:"Ocorreu um erro a transferir {{fileName}}",errorSliderFile:"O ficheiro do slider n\xE3o foi encontrado no servidor remoto."};var Q={translation:Y};x.use(O).init({resources:{en:W,pt:Q},supportedLngs:["en","pt"],fallbackLng:"en",debug:!1,keySeparator:".",interpolation:{formatSeparator:","},react:{wait:!0,bindI18n:"languageChanged loaded",bindI18nStore:"added removed",nsMode:"default",useSuspense:!0}});_.render(e.createElement(M,{i18n:x},e.createElement(H,null,e.createElement(K,null))),document.getElementById("root"));
